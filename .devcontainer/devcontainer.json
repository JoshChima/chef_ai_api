{
	"name": "Chef AI API",
	// "image": "pytorch/pytorch:2.5.1-cuda12.4-cudnn9-devel",
	"build": {
		"context": "..",
		"dockerfile": "../Dockerfile"
	},
	"runArgs": [
		"--runtime=nvidia",
		"--gpus=all",
		"--add-host=host.docker.internal:host-gateway"
	],
	"remoteEnv": {
		"PATH": "${containerEnv:PATH}:/usr/local/cuda/bin",
		"LD_LIBRARY_PATH": "$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64",
		"XLA_FLAGS": "--xla_gpu_cuda_data_dir=/usr/local/cuda"
	},
	"hostRequirements": {
		"gpu": true
	},
	// "updateContentCommand": "bash .devcontainer/install-dev-tools.sh",
	"postCreateCommand": [
		"nvidia-smi"
	],
	"forwardPorts": [
		5173,
		8090,
		2024
	],
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-python.python",
				"ms-toolsai.jupyter",
				"ms-toolsai.vscode-jupyter-cell-tags",
				"ms-toolsai.jupyter-keymap",
				"ms-toolsai.jupyter-renderers",
				"ms-toolsai.vscode-jupyter-slideshow",
				"ms-python.vscode-pylance",
				"ms-azuretools.vscode-docker",
				"ms-vscode.makefile-tools",
				"george-alisson.html-preview-vscode",
				"ms-toolsai.datawrangler",
				"bierner.markdown-mermaid",
				"ms-python.black-formatter"
			]
		}
	},
	"features": {
		"ghcr.io/devcontainers-extra/features/pipx-package:1": {},
		"ghcr.io/devcontainers-extra/features/poetry:2": {}
	}
}
// {
// 	"name": "Java & Typescript",
// 	// "image": "python:3.12-bookworm",
// 	"build":{
// 		"context": "..",
// 		"dockerfile": "Dockerfile"
// 	},
// 	// ðŸ‘‡ Features to add to the Dev Container. More info: https://containers.dev/implementors/features.
// 	"features": {
// 		"ghcr.io/devcontainers-extra/features/pipx-package:1": {
// 			"includeDeps": true,
// 			"package": "black",
// 			"version": "latest",
// 			"injections": "pylint pytest",
// 			"interpreter": "python3"
// 		},
// 		"ghcr.io/devcontainers-extra/features/poetry:2": {
// 			"version": "latest"
// 		},
//         "ghcr.io/devcontainers/features/nvidia-cuda:1": {
// 			"installCudnnDev": true,
// 			"installToolkit": true,
// 			"cudaVersion": "12.6",
// 			"cudnnVersion": "automatic"
// 		},
// 		"ghcr.io/devcontainers/features/sshd:1": {}
//         // "ghcr.io/iterative/features/nvtop:1": {}
// 		// "ghcr.io/devcontainers/features/node:1": {},
// 		// "ghcr.io/devcontainers/features/python:1": {}
// 	},
// 	// ðŸ‘‡ Use 'forwardPorts' to make a list of ports inside the container available locally.
// 	"forwardPorts": [
// 		5173, 8090
// 	],
// 	"customizations": {
// 		"vscode": {
// 			"extensions": [
// 				"svelte.svelte-vscode",
// 				"ms-toolsai.jupyter",
// 				"ms-python.python",
//                 "ms-python.python",
//                 "ms-python.vscode-pylance",
//                 "nvidia.nsight-vscode-edition"
// 			]
// 		}
// 	},
//     "runArgs": [ "--runtime=nvidia", "--gpus=all" ],
//     "remoteEnv": {
//         "NVIDIA_VISIBLE_DEVICES": "all",
//         "CUDA_VISIBLE_DEVICES": "all"
//     },
// 	"hostRequirements": {
//        "gpu":true
//    },
// 	// ðŸ‘‡ Configure tool-specific properties.
// 	// "customizations": {},
// 	// ðŸ‘‡ Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
// 	// "remoteUser": "joshchima"
// }